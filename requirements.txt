# Combinez les prédictions des quatre modèles en une seule
anomalies_combinees = (predictions_forest == 1) & (predictions_lof == 1) & (predictions_svm == 1) & (predictions_envelope == 1)

# Afficher les lignes qui sont des anomalies détectées par les quatre modèles
anomalies_detetees_par_tous_les_modeles = data[anomalies_combinees]
print("Anomalies détectées par tous les modèles :")
print(anomalies_detetees_par_tous_les_modeles)

# Visualisation des anomalies détectées par les quatre modèles
plt.figure(figsize=(12, 6))

# Utiliser les coordonnées t-SNE pour la visualisation
plt.scatter(tsne_df['Dimension 1'], tsne_df['Dimension 2'], c=anomalies_combinees, cmap='coolwarm', alpha=0.5)
plt.title('Anomalies détectées par tous les modèles (t-SNE)')
plt.xlabel('Dimension 1')
plt.ylabel('Dimension 2')
plt.colorbar(label='Anomalie')
plt.grid()

plt.show()
